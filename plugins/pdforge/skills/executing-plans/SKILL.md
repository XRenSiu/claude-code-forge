# Executing Plans Skill

> 快速模式任务执行，适用于 0→1 产品和 MVP 开发

## 触发条件

- 使用 `/pdforge --mode 0to1` 或 `--mode fast`
- 需要快速迭代的 MVP 开发
- 任务计划已准备好待执行

## 核心流程

```
1. 加载任务计划
2. 按依赖顺序排序任务
3. 批量执行任务（带检查点验证）
4. 快速验证（轻量级测试）
5. 输出执行报告
```

## 执行模式

### 与 Subagent-Driven Development 的对比

| 维度 | Executing Plans (快速) | Subagent-Driven (高质量) |
|------|------------------------|--------------------------|
| 速度 | ⚡ 快 | 🐢 慢 |
| 质量 | 🟡 中等 | 🟢 高 |
| 审查 | 检查点验证 | 每任务双阶段审查 |
| 适用 | 0→1 产品, MVP | 1→100 产品, 关键功能 |
| 覆盖率 | 50% | 80% |
| Token | 较少 | 较多 |

## 检查点机制

```
任务 1 → 检查点 1 → 任务 2 → 任务 3 → 检查点 2 → 任务 4 → ...
```

**检查点触发条件**：
- 每 3 个任务后
- 高复杂度任务完成后
- 关键路径节点

**检查点验证内容**：
- 构建是否通过
- 基础测试是否通过
- 是否有明显回归

## 快速验证 vs 完整审查

| 验证项 | 快速模式 | 完整模式 |
|--------|----------|----------|
| 构建检查 | ✅ | ✅ |
| 类型检查 | ✅ | ✅ |
| 单元测试 | ✅ 核心路径 | ✅ 全部 |
| 集成测试 | ⏭️ 跳过 | ✅ |
| 覆盖率 | 50% | 80% |
| 代码审查 | ⏭️ 跳过 | ✅ 三阶段 |
| 安全扫描 | ⏭️ 基础 | ✅ 完整 |

## 任务执行流程

```
FOR 每个任务按依赖顺序:
    1. 读取任务规格
    2. 分析实现方案
    3. 编写代码（可选 TDD）
    4. 运行基础验证

    IF 检查点:
        5a. 运行检查点验证
        5b. 如失败 → 回滚到上个检查点

    6. 标记任务完成
    7. 继续下一个任务
```

## 回滚策略

检查点失败时：

1. **轻微问题**：修复后继续
2. **中等问题**：回滚到检查点，重试任务
3. **严重问题**：暂停执行，请求人工干预

## 输出格式

```
⚡ 快速执行模式
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 计划: docs/plans/auth-plan.json
📊 任务: 8 个
📍 检查点: 3 个

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

任务 1/8: 项目设置 ✅
任务 2/8: 数据库 Schema ✅
任务 3/8: Auth 服务 ✅

📍 检查点 1: ✅ 通过
   └── 构建: ✅ | 测试: ✅ (12/12)

任务 4/8: 用户管理 ✅
任务 5/8: API 路由 ✅
任务 6/8: Auth 组件 ✅

📍 检查点 2: ✅ 通过
   └── 构建: ✅ | 测试: ✅ (28/28)

任务 7/8: 单元测试 ✅
任务 8/8: 文档 ✅

📍 最终检查点: ✅ 通过
   └── 构建: ✅ | 测试: ✅ (42/42) | 覆盖率: 52%

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 执行完成
├── 任务: 8/8 完成
├── 检查点: 3/3 通过
├── 耗时: 15 分钟
└── 覆盖率: 52% (目标 50%)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

## 何时使用

### 适合快速模式

- MVP 快速验证
- 原型开发
- 探索性编码
- 时间紧迫的功能
- 内部工具开发

### 不适合快速模式

- 关键业务功能
- 支付/安全相关
- 已有用户的产品
- 需要高可靠性的系统

## 与其他 Skills 的关系

```
writing-plans → [选择执行模式]
                    ↓
    ┌───────────────┴───────────────┐
    ↓                               ↓
executing-plans (快速)    subagent-driven-development (高质量)
    ↓                               ↓
    └───────────────┬───────────────┘
                    ↓
            requesting-code-review
```

## 配置

```yaml
# 快速模式配置
executing_plans:
  checkpoint_interval: 3        # 每 N 个任务一个检查点
  coverage_target: 50           # 覆盖率目标
  skip_integration_tests: true  # 跳过集成测试
  quick_validation: true        # 使用快速验证
  rollback_on_failure: true     # 失败时回滚
```
