# é˜¶æ®µ 5ï¼šè´¨é‡å®¡æŸ¥ (Quality Review)

> ä¸‰å±‚å®¡æŸ¥ç¡®ä¿ä»£ç è´¨é‡ï¼ˆè§„æ ¼åˆè§„ + ä»£ç è´¨é‡ + å®‰å…¨ï¼‰

---

## ğŸ“‹ é˜¶æ®µæ¦‚è¿°

| ç»´åº¦ | è¯´æ˜ |
|------|------|
| **ç›®æ ‡** | ä¸‰å±‚å®¡æŸ¥ç¡®ä¿ä»£ç è´¨é‡ |
| **è¾“å…¥** | ä»£ç  + PRDï¼ˆæ¥è‡ªé˜¶æ®µ4ï¼‰ |
| **è¾“å‡º** | å®¡æŸ¥æŠ¥å‘Š |
| **ä¸Šæ¸¸é˜¶æ®µ** | å¼€å‘å®ç°ï¼ˆé˜¶æ®µ4ï¼‰ |
| **ä¸‹æ¸¸é˜¶æ®µ** | ä¿®å¤éªŒè¯ï¼ˆé˜¶æ®µ6ï¼‰ |

---

## ğŸ§© ç»„ä»¶æ¸…å•

| ç±»å‹ | åç§° | æ¥æº | è¯´æ˜ |
|------|------|------|------|
| **Subagent** | `spec-reviewer` | PDForge | è§„æ ¼åˆè§„å®¡æŸ¥ |
| **Subagent** | `code-reviewer` | PDForge | ä»£ç è´¨é‡å®¡æŸ¥ |
| **Subagent** | `security-reviewer` | PDForge | å®‰å…¨æ¼æ´å®¡æŸ¥ |
| **Skill** | `requesting-code-review` | PDForge | å®¡æŸ¥è¯·æ±‚æµç¨‹ |
| **Command** | `/review` | PDForge | æ‰‹åŠ¨è§¦å‘å®¡æŸ¥ |
| **Command** | `/accept` | PDForge | ä¸‰é˜¶æ®µå®¡æŸ¥ + è‡ªåŠ¨ä¿®å¤å¾ªç¯ |
| **Rule** | `security.md` | PDForge | å®‰å…¨çº¦æŸçº¢çº¿ |
| **Hook** | `Stop (coverage-gate)` | PDForge | è¦†ç›–ç‡éªŒè¯é—¨æ§ |

---

## ğŸ”§ ä¸ºä»€ä¹ˆç”¨ Subagent è€Œé Skillï¼Ÿ

å®¡æŸ¥éœ€è¦**å®¢è§‚ç¬¬ä¸‰æ–¹è§†è§’**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å®¡æŸ¥éœ€è¦"æ–°é²œçœ¼ç›"å’Œ"è®¤çŸ¥éš”ç¦»"                              â”‚
â”‚                                                             â”‚
â”‚  â€¢ å®¡æŸ¥è€…ä¸åº”çŸ¥é“å®ç°è€…çš„"å¿ƒè·¯å†ç¨‹"                          â”‚
â”‚  â€¢ éœ€è¦å®¢è§‚è¯„ä¼°ï¼Œé¿å…"è‡ªå·±ç»™è‡ªå·±æ”¾æ°´"                        â”‚
â”‚  â€¢ æ¨¡æ‹Ÿ"å¦ä¸€ä¸ªå·¥ç¨‹å¸ˆå®¡æŸ¥"çš„çœŸå®åœºæ™¯                          â”‚
â”‚  â€¢ æ¯ä¸ªå®¡æŸ¥å‘˜ä¸“æ³¨å•ä¸€èŒè´£                                   â”‚
â”‚                                                             â”‚
â”‚  å› æ­¤ï¼šå®¡æŸ¥ä»»åŠ¡ â†’ Subagentï¼ˆç‹¬ç«‹å®ä¾‹ï¼Œéš”ç¦»ä¸Šä¸‹æ–‡ï¼‰            â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ ç»„ä»¶è¯¦è§£

### 1. spec-reviewer Subagentï¼ˆç¬¬ä¸€é˜¶æ®µï¼‰

**Frontmatter é…ç½®**ï¼š

```yaml
---
name: spec-reviewer
description: è§„æ ¼åˆè§„å®¡æŸ¥ã€‚éªŒè¯å®ç°æ˜¯å¦æ»¡è¶³ PRDã€‚
tools: Read, Grep, Glob
model: opus
---
```

**æ£€æŸ¥æ¸…å•**ï¼š

- [ ] PRD ä¸­æ‰€æœ‰éœ€æ±‚å·²å®ç°
- [ ] éªŒæ”¶æ ‡å‡†å…¨éƒ¨æ»¡è¶³
- [ ] API å¥‘çº¦åŒ¹é…è§„æ ¼
- [ ] æ²¡æœ‰å¼•å…¥æœªæŒ‡å®šçš„è¡Œä¸º
- [ ] è¾¹ç¼˜ç”¨ä¾‹å·²è¦†ç›–

**è¾“å‡ºè¯„ä¼°**ï¼š

| è¯„ä¼° | å«ä¹‰ |
|------|------|
| ğŸŸ¢ PASS | å®Œå…¨ç¬¦åˆè§„æ ¼ |
| ğŸŸ¡ PARTIAL | éƒ¨åˆ†ç¬¦åˆï¼Œåˆ—å‡ºå·®è· |
| ğŸ”´ FAIL | é‡å¤§åç¦»ï¼Œåˆ—å‡ºé—®é¢˜ |

---

### 2. code-reviewer Subagentï¼ˆç¬¬äºŒé˜¶æ®µï¼‰

**Frontmatter é…ç½®**ï¼š

```yaml
---
name: code-reviewer
description: ä»£ç è´¨é‡å®¡æŸ¥ã€‚ä»£ç ä¿®æ”¹åä½¿ç”¨ã€‚
tools: Read, Grep, Glob, Bash
model: opus
---
```

**å®¡æŸ¥ç»´åº¦**ï¼š

| ç»´åº¦ | é—®é¢˜ | ä¼˜å…ˆçº§ |
|------|------|--------|
| æ­£ç¡®æ€§ | æ‰€æœ‰æƒ…å†µéƒ½èƒ½å·¥ä½œå—ï¼Ÿ | ğŸ”´ Must Pass |
| æ¸…æ™°æ€§ | å‡Œæ™¨ 3 ç‚¹èƒ½ç†è§£å—ï¼Ÿ | ğŸ”´ Must Pass |
| å®‰å…¨æ€§ | å‡ºé”™æ—¶å½±å“èŒƒå›´å¤šå¤§ï¼Ÿ | ğŸ”´ Must Pass |
| å¯ç»´æŠ¤æ€§ | 6ä¸ªæœˆåå®¹æ˜“ä¿®æ”¹å—ï¼Ÿ | ğŸŸ¡ Should Pass |
| ç±»å‹å®‰å…¨ | TypeScript ä¸¥æ ¼å—ï¼Ÿ | ğŸŸ¡ Should Pass |
| æµ‹è¯•è¦†ç›– | æµ‹è¯•è¶³å¤Ÿå…¨é¢å—ï¼Ÿ | ğŸŸ¢ Advisory |

**æ£€æµ‹å‘½ä»¤ç¤ºä¾‹**ï¼š

```bash
# æŸ¥æ‰¾ any æ»¥ç”¨
grep -rn ": any\|as any" --include="*.ts" | grep -v "test\|spec"

# æŸ¥æ‰¾éç©ºæ–­è¨€
grep -rn "\!\." --include="*.ts" | grep -v "test"

# æŸ¥æ‰¾ console.log
grep -rn "console.log" --include="*.ts" | grep -v "test"

# æŸ¥æ‰¾æ·±å±‚åµŒå¥—
# (éœ€è¦äººå·¥åˆ¤æ–­ï¼Œ>4 å±‚ä¸ºçº¢æ——)
```

**è¾“å‡ºæ ¼å¼**ï¼š

```markdown
## Code Review Summary

**Assessment**: ğŸŸ¢ APPROVE / ğŸŸ¡ APPROVE WITH CHANGES / ğŸ”´ REQUEST CHANGES
**Risk Level**: Low / Medium / High / Critical

---

## Strengths âœ¨
- **[Category]**: [Specific praise with file:line]

---

## Critical Issues ğŸ”´ (Must Fix)

### 1. [Issue Title]
**Location**: `file.ts:L42-L58`
**Problem**: [Description]
**Why critical**: [Impact]
**Fix**: [Code example]

---

## Important Issues ğŸŸ¡ (Should Fix)
...

## Suggestions ğŸŸ¢ (Consider)
...

## Action Items
- [ ] Fix critical issue X
- [ ] Address important issue Y
```

---

### 3. security-reviewer Subagentï¼ˆç¬¬ä¸‰é˜¶æ®µï¼‰

**Frontmatter é…ç½®**ï¼š

```yaml
---
name: security-reviewer
description: å®‰å…¨æ¼æ´å®¡æŸ¥ã€‚æ¶‰åŠè®¤è¯/æˆæƒ/æ•æ„Ÿæ•°æ®æ—¶ä½¿ç”¨ã€‚
tools: Read, Grep, Glob, Bash
model: opus
---
```

**OWASP Top 10 æ£€æŸ¥æ¸…å•**ï¼š

| # | æ¼æ´ç±»å‹ | æ£€æµ‹æ–¹æ³• |
|---|----------|----------|
| 1 | æ³¨å…¥æ”»å‡» | `rg "query\(.*\$\{" --type ts` |
| 2 | è®¤è¯å¤±æ•ˆ | æ£€æŸ¥ session/token ç®¡ç† |
| 3 | æ•æ„Ÿæ•°æ®æš´éœ² | `rg -i "password|secret|key" --type ts` |
| 4 | XXE | æ£€æŸ¥ XML è§£æé…ç½® |
| 5 | è®¿é—®æ§åˆ¶å¤±æ•ˆ | æ£€æŸ¥æˆæƒé€»è¾‘ |
| 6 | å®‰å…¨é…ç½®é”™è¯¯ | æ£€æŸ¥é»˜è®¤é…ç½® |
| 7 | XSS | æ£€æŸ¥è¾“å‡ºç¼–ç  |
| 8 | ä¸å®‰å…¨çš„ååºåˆ—åŒ– | æ£€æŸ¥ JSON.parse ä½¿ç”¨ |
| 9 | å·²çŸ¥æ¼æ´ç»„ä»¶ | `npm audit` |
| 10 | æ—¥å¿—ç›‘æ§ä¸è¶³ | æ£€æŸ¥æ•æ„Ÿæ“ä½œæ—¥å¿— |

**å¸¸ç”¨æ£€æµ‹å‘½ä»¤**ï¼š

```bash
# ç¡¬ç¼–ç å¯†é’¥
rg -i "(api_key|password|secret|token)\s*[:=]" --type ts

# SQL æ³¨å…¥é£é™©
rg "query\(.*\$\{" --type ts

# eval ä½¿ç”¨
rg "eval\(" --type ts --type js

# ä¾èµ–æ¼æ´
npm audit
```

---

### 4. requesting-code-review Skill

**è§¦å‘æ¡ä»¶**ï¼šå®Œæˆä»»åŠ¡æ­¥éª¤åã€åˆå¹¶ PR å‰

**Frontmatter**ï¼š

```yaml
---
name: requesting-code-review
description: Use after completing a plan step or before merging PRs.
---
```

**Pre-Review æ£€æŸ¥æ¸…å•**ï¼ˆæäº¤å®¡æŸ¥å‰è‡ªæ£€ï¼‰ï¼š

- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] TypeScript æ— é”™è¯¯
- [ ] ä»£ç å·²æ ¼å¼åŒ–
- [ ] è¦†ç›–ç‡è¾¾æ ‡

---

### 5. /review å‘½ä»¤

**è¯­æ³•**ï¼š

```bash
/review <path>
/review <path> --type <review_type>
/review <path> --focus <area>
```

**å‚æ•°**ï¼š

| å‚æ•° | è¯´æ˜ | å¯é€‰å€¼ |
|------|------|--------|
| `<path>` | è¦å®¡æŸ¥çš„è·¯å¾„ | æ–‡ä»¶æˆ–ç›®å½• |
| `--type` | å®¡æŸ¥ç±»å‹ | `code`, `spec`, `security`, `all` |
| `--focus` | å®¡æŸ¥é‡ç‚¹ | `security`, `performance`, `style` |

**ç¤ºä¾‹**ï¼š

```bash
# ä»£ç å®¡æŸ¥
/review src/auth/

# å®‰å…¨å®¡æŸ¥
/review src/auth/ --type security

# è§„æ ¼å®¡æŸ¥
/review src/auth/ --type spec --spec docs/prd/auth.md

# å®Œæ•´å®¡æŸ¥
/review src/auth/ --type all --spec docs/prd/auth.md
```

---

### 6. /accept å‘½ä»¤ â­

**è¿™æ˜¯ PDForge çš„æ ¸å¿ƒå‘½ä»¤ï¼Œæ”¯æŒ `--fix --loop` éªŒè¯å¾ªç¯**

**è¯­æ³•**ï¼š

```bash
/accept <prd_path> <code_path>
/accept <prd_path> <code_path> --fix --loop <max_rounds>
/accept <prd_path> <code_path> --skip-security
```

**å‚æ•°**ï¼š

| å‚æ•° | è¯´æ˜ |
|------|------|
| `<prd_path>` | PRD æ–‡æ¡£è·¯å¾„ |
| `<code_path>` | ä»£ç è·¯å¾„ |
| `--fix` | è‡ªåŠ¨ä¿®å¤é—®é¢˜ |
| `--loop <N>` | å¾ªç¯ç›´åˆ°é€šè¿‡ï¼Œæœ€å¤š N è½® |
| `--skip-security` | è·³è¿‡å®‰å…¨å®¡æŸ¥ï¼ˆä¸æ¨èï¼‰ |

**ç¤ºä¾‹**ï¼š

```bash
# åŸºæœ¬éªŒæ”¶
/accept docs/prd/auth.md src/auth/

# å¸¦è‡ªåŠ¨ä¿®å¤çš„éªŒæ”¶
/accept docs/prd/auth.md src/auth/ --fix

# è‡ªåŠ¨å¾ªç¯ç›´åˆ°é€šè¿‡
/accept docs/prd/auth.md src/auth/ --fix --loop 5
```

**éªŒè¯å¾ªç¯æµç¨‹**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    éªŒè¯å¾ªç¯ (--fix --loop)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                      â”‚   å¼€å§‹éªŒæ”¶    â”‚                       â”‚
â”‚                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                             â”‚                               â”‚
â”‚                             â–¼                               â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚              â”‚  é˜¶æ®µ1: spec-reviewer       â”‚               â”‚
â”‚              â”‚  è§„æ ¼åˆè§„å®¡æŸ¥               â”‚               â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                            â”‚                               â”‚
â”‚                            â–¼                               â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚              â”‚  é˜¶æ®µ2: code-reviewer       â”‚               â”‚
â”‚              â”‚  ä»£ç è´¨é‡å®¡æŸ¥               â”‚               â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                            â”‚                               â”‚
â”‚                            â–¼                               â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚              â”‚  é˜¶æ®µ3: security-reviewer   â”‚               â”‚
â”‚              â”‚  å®‰å…¨æ¼æ´å®¡æŸ¥               â”‚               â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                            â”‚                               â”‚
â”‚                            â–¼                               â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â”‚  å…¨éƒ¨é€šè¿‡ï¼Ÿ   â”‚                        â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                           â”‚                                â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚              â–¼                         â–¼                   â”‚
â”‚             æ˜¯                        å¦                   â”‚
â”‚              â”‚                         â”‚                   â”‚
â”‚              â–¼                         â–¼                   â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚        â”‚ âœ… é€šè¿‡  â”‚           â”‚  issue-fixer â”‚            â”‚
â”‚        â”‚ è¿›å…¥é˜¶æ®µ7â”‚           â”‚  ä¿®å¤é—®é¢˜    â”‚            â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                      â”‚                     â”‚
â”‚                                      â–¼                     â”‚
â”‚                               è½®æ•° < max?                  â”‚
â”‚                                      â”‚                     â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                        â–¼                           â–¼       â”‚
â”‚                       æ˜¯                          å¦       â”‚
â”‚                        â”‚                           â”‚       â”‚
â”‚                        â–¼                           â–¼       â”‚
â”‚                  è¿”å›é˜¶æ®µ1                    âš ï¸ æ–­è·¯å™¨     â”‚
â”‚                  é‡æ–°å®¡æŸ¥                    éœ€è¦äººå·¥å¹²é¢„   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 7. security.md Rule

**æ ¸å¿ƒçº¦æŸï¼ˆçº¢çº¿ï¼‰**ï¼š

```markdown
## Security Rules

### ç»å¯¹ç¦æ­¢
- ç¡¬ç¼–ç å¯†é’¥/å¯†ç 
- SQL æ‹¼æ¥ï¼ˆå¿…é¡»å‚æ•°åŒ–ï¼‰
- eval() ä½¿ç”¨ç”¨æˆ·è¾“å…¥
- æ•æ„Ÿæ•°æ®æ˜æ–‡ä¼ è¾“/å­˜å‚¨

### å¿…é¡»è¦æ±‚
- æ‰€æœ‰è¾“å…¥å¿…é¡»éªŒè¯
- æ•æ„Ÿæ“ä½œå¿…é¡»æ—¥å¿—è®°å½•
- è®¤è¯å¤±è´¥å¿…é¡»é™æµ
- å¯†ç å¿…é¡»å“ˆå¸Œå­˜å‚¨ï¼ˆbcrypt/argon2ï¼‰

### å®‰å…¨å“åº”å¤´
- X-Content-Type-Options: nosniff
- X-Frame-Options: DENY
- Content-Security-Policy: configured
```

---

### 8. Stop Hook (coverage-gate)

**é…ç½®** (`.claude/settings.json`)ï¼š

```json
{
  "hooks": {
    "Stop": [
      {
        "name": "coverage-gate",
        "condition": "before_accept",
        "command": "npm run test:coverage",
        "threshold": {
          "statements": 80,
          "branches": 75,
          "functions": 80,
          "lines": 80
        },
        "on_failure": "block"
      },
      {
        "name": "security-scan",
        "condition": "before_accept",
        "command": "npm audit --audit-level=high",
        "on_failure": "block"
      },
      {
        "name": "all-tests-pass",
        "condition": "before_accept",
        "command": "npm test",
        "on_failure": "block"
      }
    ]
  }
}
```

---

## ğŸš€ ä½¿ç”¨æµç¨‹

### ä¸‰é˜¶æ®µå®¡æŸ¥æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸‰é˜¶æ®µå®¡æŸ¥æµç¨‹                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   é˜¶æ®µ 1: è§„æ ¼åˆè§„å®¡æŸ¥ (spec-reviewer)                       â”‚
â”‚   â”œâ”€â”€ èŒè´£: éªŒè¯å®ç°æ˜¯å¦æ»¡è¶³ PRD æ‰€æœ‰éœ€æ±‚                    â”‚
â”‚   â””â”€â”€ é€šè¿‡æ¡ä»¶: éœ€æ±‚è¦†ç›– 100%                               â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼ é€šè¿‡å                                              â”‚
â”‚                                                             â”‚
â”‚   é˜¶æ®µ 2: ä»£ç è´¨é‡å®¡æŸ¥ (code-reviewer)                       â”‚
â”‚   â”œâ”€â”€ èŒè´£: éªŒè¯ä»£ç è´¨é‡ã€æœ€ä½³å®è·µ                           â”‚
â”‚   â””â”€â”€ é€šè¿‡æ¡ä»¶: æ— ä¸¥é‡é—®é¢˜                                  â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼ é€šè¿‡å                                              â”‚
â”‚                                                             â”‚
â”‚   é˜¶æ®µ 3: å®‰å…¨å®¡æŸ¥ (security-reviewer)                       â”‚
â”‚   â”œâ”€â”€ èŒè´£: OWASP Top 10 æ¼æ´æ£€æŸ¥                           â”‚
â”‚   â””â”€â”€ è§¦å‘: æ¶‰åŠè®¤è¯/æˆæƒ/æ•æ„Ÿæ•°æ®æ—¶                         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é¡ºåºä¸å¯é¢ å€’**ï¼šå…ˆç¡®ä¿"å¯¹çš„äº‹"ï¼Œå†ç¡®ä¿"åšå¾—å¥½"

### æ‰‹åŠ¨å®¡æŸ¥

```bash
# å•æ¬¡ä»£ç å®¡æŸ¥
/review src/auth/

# å®Œæ•´ä¸‰é˜¶æ®µå®¡æŸ¥
/review --type all --spec docs/prd/auth.md src/auth/
```

### å¸¦è‡ªåŠ¨ä¿®å¤çš„éªŒæ”¶

```bash
# æ¨èæ–¹å¼ï¼šè‡ªåŠ¨ä¿®å¤ + å¾ªç¯éªŒè¯
/accept docs/prd/auth.md src/auth/ --fix --loop 5
```

---

## âš™ï¸ é…ç½®å·®å¼‚

### 0â†’1 äº§å“

```yaml
quality_review:
  reviewers:
    - code-reviewer          # ä»…ä»£ç å®¡æŸ¥
  max_rounds: 2
  coverage_threshold: 50%
  security_review: optional  # å¯é€‰
```

### 1â†’100 äº§å“

```yaml
quality_review:
  reviewers:
    - spec-reviewer          # è§„æ ¼åˆè§„
    - code-reviewer          # ä»£ç è´¨é‡
    - security-reviewer      # å®‰å…¨å®¡æŸ¥
  max_rounds: 5
  coverage_threshold: 80%
  security_review: required  # å¿…é¡»
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å®¡æŸ¥é¡ºåºä¸å¯é¢ å€’**ï¼šå…ˆè§„æ ¼åˆè§„ â†’ åä»£ç è´¨é‡ â†’ æœ€åå®‰å…¨
2. **å®¡æŸ¥å‘˜æ˜¯ç‹¬ç«‹ Subagent**ï¼šæ²¡æœ‰å®ç°è¿‡ç¨‹çš„ä¸Šä¸‹æ–‡ï¼Œå®¢è§‚è¯„ä¼°
3. **æ–­è·¯å™¨æ˜¯ä¿æŠ¤æœºåˆ¶**ï¼šè§¦å‘æ—¶éœ€è¦äººå·¥ä»‹å…¥ï¼Œä¸è¦å¼ºè¡Œç»§ç»­
4. **è¦†ç›–ç‡é—¨æ§æ˜¯ç¡¬æ€§è¦æ±‚**ï¼šä½äºé˜ˆå€¼æ— æ³•é€šè¿‡

---

## ğŸ”— ä¸‹ä¸€é˜¶æ®µ

å®¡æŸ¥å‘ç°é—®é¢˜åï¼Œè¿›å…¥ **é˜¶æ®µ 6ï¼šä¿®å¤éªŒè¯**ï¼š

```bash
/fix --review docs/reviews/latest-review.md
/fix --loop
```

å®¡æŸ¥å…¨éƒ¨é€šè¿‡åï¼Œè¿›å…¥ **é˜¶æ®µ 7ï¼šäº¤ä»˜éƒ¨ç½²**ï¼š

```bash
/deploy staging
```
