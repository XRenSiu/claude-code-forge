# é˜¶æ®µ 1ï¼šéœ€æ±‚åˆ†æ (Requirement Analysis)

> å°†æ¨¡ç³Šçš„ç”¨æˆ·æƒ³æ³•è½¬åŒ–ä¸ºç»“æ„åŒ–çš„äº§å“éœ€æ±‚æ–‡æ¡£ï¼ˆPRDï¼‰

---

## ğŸ“‹ é˜¶æ®µæ¦‚è¿°

| ç»´åº¦ | è¯´æ˜ |
|------|------|
| **ç›®æ ‡** | å°†æ¨¡ç³Šéœ€æ±‚è½¬åŒ–ä¸ºç»“æ„åŒ– PRD |
| **è¾“å…¥** | ç”¨æˆ·æƒ³æ³•ã€éœ€æ±‚æè¿°ã€ç°æœ‰æ–‡æ¡£ |
| **è¾“å‡º** | PRD æ–‡æ¡£ (`docs/prd/[feature]-prd.md`) |
| **ä¸‹æ¸¸é˜¶æ®µ** | ç³»ç»Ÿè®¾è®¡ï¼ˆé˜¶æ®µ2ï¼‰ |

---

## ğŸ§© ç»„ä»¶æ¸…å•

| ç±»å‹ | åç§° | æ¥æº | è¯´æ˜ |
|------|------|------|------|
| **Skill** | `brainstorming` | PDForge | è‹æ ¼æ‹‰åº•å¼é—®ç­”æ¾„æ¸…éœ€æ±‚ |
| **Subagent** | `prd-generator` | PDForge | ç”Ÿæˆç»“æ„åŒ– PRD |
| **Command** | `/brainstorm` | è‡ªå®šä¹‰ | å¯åŠ¨éœ€æ±‚æ¾„æ¸…æµç¨‹ |
| **Command** | `/prd` | PDForge | ç”Ÿæˆ PRD æ–‡æ¡£ |
| **Rule** | - | - | æ— ç‰¹å®šè§„åˆ™ |
| **Hook** | - | - | æ— ç‰¹å®š Hook |

---

## ğŸ”§ ç»„ä»¶è¯¦è§£

### 1. brainstorming Skill

**è§¦å‘æ¡ä»¶**ï¼šè®¾è®¡æ–°åŠŸèƒ½ã€ä¿®æ”¹æ ¸å¿ƒè¡Œä¸ºã€éœ€æ±‚æ¨¡ç³Šæ—¶

**6 é˜¶æ®µæµç¨‹**ï¼š

```
é˜¶æ®µ1: ä¾¦å¯Ÿ      â†’ é™é»˜è¯»å–ç°æœ‰ä»£ç å’Œæ–‡æ¡£
é˜¶æ®µ2: å‘æ•£æ¢ç´¢  â†’ æ€è€ƒè‡³å°‘ 3 ä¸ªå¯èƒ½æ–¹å‘
é˜¶æ®µ3: æé—®      â†’ è‹æ ¼æ‹‰åº•å¼é—®ç­”ï¼ˆæ¯æ¬¡åªé—® 1 ä¸ªé—®é¢˜ï¼‰
é˜¶æ®µ4: æ”¶æ•›å‘ˆç°  â†’ åˆ†å—å±•ç¤ºè®¾è®¡ï¼ˆæ¯å— 200-300 å­—ï¼‰
é˜¶æ®µ5: æ–‡æ¡£      â†’ ä¿å­˜ design-doc
é˜¶æ®µ6: äº¤æ¥      â†’ æŒ‡å‘ä¸‹ä¸€æ­¥ï¼ˆä¸è‡ªè¡Œå¼€å§‹ä¸‹ä¸€é˜¶æ®µï¼‰
```

**ååˆç†åŒ–çº¢æ——åˆ—è¡¨**ï¼š

| AI å¯èƒ½çš„å€Ÿå£ | å›åº” |
|--------------|------|
| ã€Œæˆ‘å·²ç»çŸ¥é“æ€ä¹ˆåšäº†ã€ | çŸ¥é“æ¦‚å¿µ â‰  ä¸ç”¨æˆ·å¯¹é½ |
| ã€Œè¿™ä¸ªå¾ˆç®€å•ã€ | ç®€å•çš„äº‹æ›´å®¹æ˜“å‡è®¾é”™è¯¯ |
| ã€Œç”¨æˆ·å¾ˆæ€¥ã€ | è¿”å·¥æ¯”å¤šèŠ± 5 åˆ†é’Ÿæ›´æ…¢ |

**äº§å‡º**ï¼š`docs/designs/YYYY-MM-DD-[feature].md`

---

### 2. prd-generator Subagent

**Frontmatter é…ç½®**ï¼š

```yaml
---
name: prd-generator
description: å°†ç”¨æˆ·éœ€æ±‚è½¬åŒ–ä¸ºç»“æ„åŒ– PRDã€‚éœ€æ±‚ä¸æ¸…æ™°æ—¶ä½¿ç”¨ã€‚
tools: Read, Grep, Glob
model: opus
---
```

**5 é˜¶æ®µæµæ°´çº¿**ï¼š

```
Parse Input â†’ Codebase Analysis â†’ PRD Generation â†’ Quality Validation â†’ Output
```

**è¾“å…¥ç±»å‹æ”¯æŒ**ï¼š

| è¾“å…¥ç±»å‹ | æ¥æº | å‡è®¾æ¯”ä¾‹ |
|----------|------|----------|
| ç»“æ„åŒ– | brainstorming äº§å‡º | æœ€ä½ï¼ˆ<10%ï¼‰ |
| åŠç»“æ„åŒ– | ç”¨æˆ·è‡ªæœ‰æ–‡æ¡£ | ä¸­ç­‰ï¼ˆ20-30%ï¼‰ |
| éç»“æ„åŒ– | ç®€çŸ­æè¿° | è¾ƒé«˜ï¼ˆ30-50%ï¼‰ |

**13 é¡¹è´¨é‡éªŒè¯æ£€æŸ¥æ¸…å•**ï¼š

- [ ] é—®é¢˜å®šä¹‰æ¸…æ™°
- [ ] ç›®æ ‡ç”¨æˆ·æ˜ç¡®
- [ ] æˆåŠŸæŒ‡æ ‡å¯æµ‹é‡
- [ ] User Stories å®Œæ•´
- [ ] éªŒæ”¶æ ‡å‡†å¯éªŒè¯
- [ ] Functional Requirements æœ‰ç¼–å·å’Œä¼˜å…ˆçº§
- [ ] Non-Functional Requirements è¦†ç›–
- [ ] API Design å¥‘çº¦æ˜ç¡®
- [ ] Data Model å®Œæ•´
- [ ] ä¾èµ–å…³ç³»è¯†åˆ«
- [ ] é£é™©è¯„ä¼°
- [ ] å‡è®¾å·²æ ‡è®°
- [ ] å¼€æ”¾é—®é¢˜å·²åˆ—å‡º

**äº§å‡º**ï¼š`docs/prd/[feature]-prd.md`

---

### 3. /brainstorm å‘½ä»¤

**è¯­æ³•**ï¼š

```bash
/brainstorm "<åŠŸèƒ½æè¿°>"
/brainstorm "<åŠŸèƒ½æè¿°>" --context <ç°æœ‰æ–‡æ¡£è·¯å¾„>
```

**ç¤ºä¾‹**ï¼š

```bash
# åŸºæœ¬ç”¨æ³•
/brainstorm "ç”¨æˆ·è®¤è¯åŠŸèƒ½"

# å¸¦ä¸Šä¸‹æ–‡
/brainstorm "æ·»åŠ  OAuth ç™»å½•" --context docs/requirements/auth-notes.md
```

---

### 4. /prd å‘½ä»¤

**è¯­æ³•**ï¼š

```bash
/prd <è¾“å…¥æº>
/prd "<ç®€çŸ­æè¿°>"
/prd <design-docè·¯å¾„>
/prd <ä»»æ„æ–‡æ¡£è·¯å¾„>
```

**å‚æ•°**ï¼š

| å‚æ•° | è¯´æ˜ |
|------|------|
| `--output <path>` | æŒ‡å®šè¾“å‡ºè·¯å¾„ |
| `--format json` | åŒæ—¶è¾“å‡º JSON æ ¼å¼ |
| `--strict` | ä¸¥æ ¼æ¨¡å¼ï¼Œç¦æ­¢é«˜å‡è®¾æ¯”ä¾‹ |

**ç¤ºä¾‹**ï¼š

```bash
# ä» design-doc ç”Ÿæˆï¼ˆæ¨èï¼‰
/prd docs/designs/2025-01-24-user-auth.md

# ä»ç®€çŸ­æè¿°ç”Ÿæˆï¼ˆå¿«é€ŸéªŒè¯ï¼‰
/prd "æ·»åŠ å¯†ç é‡ç½®åŠŸèƒ½"

# ä»ç°æœ‰æ–‡æ¡£ç”Ÿæˆ
/prd docs/requirements/feature-spec.md

# ä¸¥æ ¼æ¨¡å¼
/prd docs/designs/payment.md --strict
```

---

## ğŸš€ ä½¿ç”¨æµç¨‹

### è·¯å¾„ Aï¼šéœ€æ±‚æ¨¡ç³Šï¼ˆæ¨èï¼‰

```bash
# Step 1: å¯åŠ¨éœ€æ±‚æ¾„æ¸…
/brainstorm "ç”¨æˆ·è®¤è¯åŠŸèƒ½"

# Step 2: å›ç­” Claude çš„é—®é¢˜ï¼ˆè‹æ ¼æ‹‰åº•å¼é—®ç­”ï¼‰
# ... å¤šè½®å¯¹è¯ ...

# Step 3: ç¡®è®¤è®¾è®¡æ–‡æ¡£
# äº§å‡º: docs/designs/2025-01-24-user-auth.md

# Step 4: ç”Ÿæˆ PRD
/prd docs/designs/2025-01-24-user-auth.md

# äº§å‡º: docs/prd/user-auth-prd.md
```

### è·¯å¾„ Bï¼šéœ€æ±‚æ¸…æ™°

```bash
# ç›´æ¥ä»ç°æœ‰æ–‡æ¡£ç”Ÿæˆ PRD
/prd docs/requirements/existing-spec.md
```

### è·¯å¾„ Cï¼šå¿«é€ŸéªŒè¯ï¼ˆ0â†’1 äº§å“ï¼‰

```bash
# ç›´æ¥ç”¨ç®€çŸ­æè¿°ç”Ÿæˆ PRD
/prd "æ·»åŠ  OAuth2 ç™»å½•ï¼Œæ”¯æŒ Google å’Œ GitHub"
```

---

## ğŸ“Š ä½¿ç”¨åœºæ™¯åˆ¤æ–­

| æƒ…å†µ | æ¨èè·¯å¾„ | å‘½ä»¤ |
|------|----------|------|
| éœ€æ±‚æ¨¡ç³Šã€æœ‰å¤šç§å¯èƒ½æ–¹æ¡ˆ | A | `/brainstorm` â†’ `/prd` |
| éœ€æ±‚æ¸…æ™°ã€æœ‰ç°æˆæ–‡æ¡£ | B | `/prd [doc]` |
| å¿«é€ŸéªŒè¯ã€MVP é˜¶æ®µ | C | `/prd "æè¿°"` |
| ä¿®æ”¹æ ¸å¿ƒè¡Œä¸º | A | `/brainstorm` â†’ `/prd` |
| ç®€å•åŠŸèƒ½æ·»åŠ  | B/C | `/prd` |

---

## âš™ï¸ é…ç½®å·®å¼‚

### 0â†’1 äº§å“

```yaml
requirement_analysis:
  brainstorming: optional      # å¯é€‰
  prd_validation: basic        # åŸºç¡€éªŒè¯
  assumption_threshold: 40%    # å…è®¸è¾ƒé«˜å‡è®¾æ¯”ä¾‹
```

### 1â†’100 äº§å“

```yaml
requirement_analysis:
  brainstorming: required      # å¿…é¡»
  prd_validation: full         # å®Œæ•´éªŒè¯
  assumption_threshold: 10%    # ä½å‡è®¾æ¯”ä¾‹
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ¯æ¬¡åªé—®ä¸€ä¸ªé—®é¢˜**ï¼šbrainstorming é˜¶æ®µç¦æ­¢ä¸€æ¬¡é—®å¤šä¸ªé—®é¢˜
2. **å‡è®¾å¿…é¡»æ ‡è®°**ï¼šPRD ä¸­æ‰€æœ‰æ¨æ–­å†…å®¹å¿…é¡»æ ‡è®° `[âš ï¸ ASSUMED]`
3. **äº¤æ¥å¿…é¡»æ˜ç¡®**ï¼šbrainstorming å®Œæˆåå¿…é¡»è¾“å‡ºäº¤æ¥æç¤ºï¼Œä¸è‡ªè¡Œå¼€å§‹ä¸‹ä¸€é˜¶æ®µ
4. **Description é™·é˜±**ï¼šSkill çš„ description åªå†™è§¦å‘æ¡ä»¶ï¼Œä¸å†™å·¥ä½œæµ

---

## ğŸ”— ä¸‹ä¸€é˜¶æ®µ

å®Œæˆ PRD åï¼Œè¿›å…¥ **é˜¶æ®µ 2ï¼šç³»ç»Ÿè®¾è®¡**ï¼š

```bash
/design docs/prd/user-auth-prd.md
```
